<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Musicalizando</title>

    <!-- link de sweet alert -->

    <!-- link do google fonts -->

    <!-- css do header -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/header-footer.css') }}">

    <!-- css da tela principal -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/pagina-principal.css') }}">

    <!-- css global -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/global.css') }}">

    <!-- css de cores e fontes-->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/colors-fonts.css') }}">

    <!-- link de icones do font awesome-->
    <script src="https://kit.fontawesome.com/15fe3e217a.js" crossorigin="anonymous"></script>

    <!-- link  bootstrap-->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-j1CDi7MgGQ12Z7Qab0qlWQ/Qqz24Gc6BM0thvEMVjHnfYGF0rmFCozFSxQBxwHKO"
        crossorigin="anonymous"></script>

    <!-- link do java script -->

</head>

<body>

    <!-- container do header -->
    <header class="header">

        <!-- lado esquerdo do header - loja - logo -->
        <div class="header__logo">

            <figure><img class="header__logo-img" src="/static/img/logo/header__logo.svg" alt="img-logo"></figure>

            <span class="header__logo-text">Musicalizando</span>

        </div>

        <!-- centro do header - selecionar categorias -->
        <div class="header__categorias">

            {% for categoria in categorias %}

            <a href="/produto/categoria/{{categoria.cod_categoria}}">

                <h2 class="header__btn-categorias">{{categoria.nome}}</h2>

            </a>

            {% endfor %}

        </div>

        <!-- lado direito do header - carrinho, entrar na conta e sair -->
        <div class="header__actions">

            <div class="header__direito-btns">
                
                <!-- icone do carrinho de compras -->
                <a class="fa-solid fa-cart-shopping" style="color: #ffffff;" href="/pagina/carrinho"></a>

                {% if session.usuario %}
                <!-- btn de deslogar -->
                <a href="/deslogar"><span class="header__btn--deslogar">Sair</span></a>

                <!-- boas vindas ao usuario, com seu nome de login -->
                <a href=""><span class="header__name-usuario">Olá {{session.usuario}}!</span></a>

                {% else %}
                <a href="/pagina/login"><h2 class="header__btn--login">Fazer Login</h2></a>
                {% endif %}
                <!-- <a href=""><span class="header__btn-sair">Sair</span></a> -->

            </div>

        </div>

    </header>

    <main class="pagina-principal">

        <section class="section-slider">

        </section>

        <section class="main__section-catalogo">

            <h1 class="main__pagina-principal__titulo">Todos os produtos:</h1>

            {% for produto in produtos %}

            <div class="main__produtos">

                <figure>
                    <!-- {{ url_for('static', filename='img/' + produto.url_foto) }} gera a URL completa para a imagem do produto. Ele usa o url_for do Flask para apontar para sua pasta static, adiciona o prefixo img/ e concatena com o nome do arquivo da foto (produto.url_foto) que vem do seu banco de dados, resultando no caminho correto como /static/img/cd-img/minha_foto.png. -->
                    <img class="main__produtos-lista-item__imagem" src="{{ url_for('static', filename='img/' + produto.url_foto) }}"
                        alt="imagem do produto {{produto.titulo}}">
                </figure>

                <span class="main__produtos-lista-item__nome">{{produto.titulo}}</span>

                <div class="main__produtos-bottom">
                    <span class="main__produtos-lista-item__preco">{{produto.preco}}</span>

                    <a href="/produto/{{produto.cod_produto}}"><button class="button--ver-mais">Ver mais</button></a>
                </div>

            </div>
            {% endfor %}

        </section>

    </main>

    <footer class="footer-section">

        <div class="footer__lado--esquerdo">

            <span class="footer-section__text--copyright">© Todos os direitos reservados.</span>

        </div>

        <div class="footer__lado--direito">

            <span><i class="fa-brands fa-instagram icon-insta"></i>@musicalizando</span>
            <span><i class="fa-regular fa-envelope icon-email"></i>Contato: musicalizando@gmail.com</span>

        </div>

    </footer>

</body>

</html>